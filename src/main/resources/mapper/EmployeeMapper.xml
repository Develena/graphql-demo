<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.graphqldemo.mapper.EmployeeMapper">

<!--    <select id="selectEmployeeInfoByEmpNo" resultType="EmployeeInfo">-->
<!--        SELECT-->
<!--            emp.emp_no as emp_no,-->
<!--            emp.birth_date as birth_date,-->
<!--            emp.first_name as first_name,-->
<!--            emp.last_name as last_name,-->
<!--            emp.gender as gender,-->
<!--            emp.hire_date as hire_date,-->
<!--            hist.dept_no as dept_no,-->
<!--            hist.from_date as dept_from_date,-->
<!--            hist.to_date as dept_to_date,-->
<!--            dept.dept_name as dept_name-->
<!--        FROM employees emp-->
<!--        INNER JOIN (SELECT-->
<!--                 *-->
<!--             FROM dept_emp-->
<!--             WHERE emp_no=#{empNo}-->
<!--             order by to_date-->
<!--             desc limit 1 ) hist ON hist.emp_no = emp.emp_no-->
<!--        INNER JOIN departments dept ON dept.dept_no = hist.dept_no-->
<!--        WHERE-->
<!--            emp.emp_no = #{empNo}-->

<!--    </select>-->
</mapper>